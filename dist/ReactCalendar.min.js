!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("date-fns")):"function"==typeof define&&define.amd?define(["react","prop-types","date-fns"],t):"object"==typeof exports?exports.reactCal=t(require("react"),require("prop-types"),require("date-fns")):e.reactCal=t(e.react,e["prop-types"],e["date-fns"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t){e.exports=n},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)?t.reduce(function(t,n){return n?[].concat(r(t),[e+"--"+n]):t},[e]).join(" "):Object.keys(t).reduce(function(n,o){return t[o]?[].concat(r(n),[e+"--"+o]):n},[e]).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.datesForMonth=void 0,t.bem=o;var a=n(0),l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];t.datesForMonth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sunday",n=l.indexOf(t)||0,o=(0,a.startOfMonth)(e),u=(0,a.subDays)(o,(0,a.getDay)(o)+7-n),c=(0,a.getDate)((0,a.addDays)(u,7));return(1===c||c>7)&&(u=(0,a.addDays)(u,7)),Array.apply(void 0,r(Array(35))).map(function(e,t){return(0,a.addDays)(u,t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),i=r(c),s=n(1),f=r(s),d=n(2),p=r(d),h=n(0),m=n(10),y=r(m),v=n(12),b=r(v),M=n(3);n(14);var _=function(e){function t(){var e,n,r,l;o(this,t);for(var u=arguments.length,c=Array(u),i=0;i<u;i++)c[i]=arguments[i];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={month:r.props.startMonth,localSelectionRange:null},r.onKeyDown=function(e){27===e.which&&r.onSelection(null)},r.onSelection=function(e){r.setState({localSelectionRange:e}),r.props.onSelection(e||null)},r.setMonth=function(e){if(r.setState({month:e}),r.props.onDateRangeChange){var t=(0,M.datesForMonth)(e,r.props.startOfWeek);r.props.onDateRangeChange([t[0],t[t.length-1]])}},l=n,a(r,l)}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.setMonth(this.props.startMonth),window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderDate,r=t.startOfWeek,o=t.unselectSafeElement,a=t.clearSelectionOnExternalClick,l=t.events,u=this.state,c=u.month,i=u.localSelectionRange,s=this.props,d=s.selectionRange,p=void 0===d?i:d,h=s.locale;return f.default.createElement("div",{className:"ReactCalendar"},f.default.createElement(y.default,{month:c,setMonth:this.setMonth,selectionRange:p,onClearSelection:function(){return e.onSelection(null)},locale:h}),f.default.createElement(b.default,{month:c,renderDate:n,selectionRange:p,onSelection:this.onSelection,unselectSafeElement:o,clearSelectionOnExternalClick:a,startOfWeek:r,events:l,locale:h}))}}]),t}(s.Component);_.propTypes={startMonth:p.default.instanceOf(Date),onDateRangeChange:p.default.func,renderDate:p.default.func,onSelection:p.default.func,startOfWeek:p.default.string,unselectSafeElement:p.default.element,clearSelectionOnExternalClick:p.default.bool,events:v.EventsPropType,selectionRange:p.default.arrayOf(p.default.instanceOf(Date)),locale:p.default.object},_.defaultProps={startMonth:(0,h.startOfMonth)(Date.now()),onDateRangeChange:null,renderDate:function(){return null},onSelection:function(){return null},startOfWeek:"monday",unselectSafeElement:null,clearSelectionOnExternalClick:!1,events:[],selectionRange:void 0,locale:i.default},t.default=_},function(e,t,n){var r=n(7),o=n(8);e.exports={distanceInWords:r(),format:o()}},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["AM","PM"],c=["am","pm"],i=["a.m.","p.m."],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return l[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?i[1]:i[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:a(s)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var a=n(9);e.exports=r},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var o=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=r(i),f=n(2),d=r(f),p=n(0);n(11);var h=function(e){function t(){var e,n,r,o;a(this,t);for(var u=arguments.length,c=Array(u),i=0;i<u;i++)c[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.onMonthChange=function(e){r.props.setMonth((0,p.parse)(e.target.value,"YYYY-MM-DD"))},r.previousMonth=function(){r.props.setMonth((0,p.subMonths)(r.props.month,1))},r.nextMonth=function(){r.props.setMonth((0,p.addMonths)(r.props.month,1))},o=n,l(r,o)}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.month,n=e.selectionRange,r=e.onClearSelection,a=e.locale,l=Array.apply(void 0,o(Array(24))).map(function(e,n){return(0,p.addMonths)(t,n-12)});return s.default.createElement("div",{className:"ReactCalendarHeader"},s.default.createElement("div",{className:"ReactCalendarHeader__left"},s.default.createElement("div",{className:"ReactCalendarHeader__directions"},s.default.createElement("button",{onClick:this.previousMonth,className:"ReactCalendarHeader__directionbtn"}),s.default.createElement("button",{onClick:this.nextMonth,className:"ReactCalendarHeader__directionbtn"})),n?s.default.createElement("div",{className:"ReactCalendarHeader__clear"},s.default.createElement("button",{onClick:r},"Clear Selection")):null),s.default.createElement("select",{value:(0,p.format)(t,"YYYY-MM-DD",{locale:a}),className:"ReactCalendarHeader__monthpicker",onChange:this.onMonthChange},l.map(function(e){return s.default.createElement("option",{value:(0,p.format)(e,"YYYY-MM-DD",{locale:a})},(0,p.format)(e,"MMMM YYYY",{locale:a}))})))}}]),t}(i.Component);h.propTypes={setMonth:d.default.func.isRequired,month:d.default.instanceOf(Date).isRequired,selectionRange:d.default.arrayOf(d.default.instanceOf(Date)),onClearSelection:d.default.func},h.defaultProps={selectionRange:null,onClearSelection:function(){return null}},t.default=h},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EventsPropType=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),i=r(c),s=n(2),f=r(s),d=n(0),p=n(3);n(13);var h=t.EventsPropType=f.default.arrayOf(f.default.shape({id:f.default.instanceOf(Date),start:f.default.instanceOf(Date),end:f.default.instanceOf(Date)})),m=function(e){function t(){var e,n,r,l;o(this,t);for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={selectionStart:null},r.onSelectStart=function(e){r.setState({selectionStart:e}),r.props.onSelection([e,e])},r.onSelectMove=function(e){var t=r.state.selectionStart,n=r.props,o=n.selectionRange,a=n.onSelection;if(t)return(0,d.isEqual)(e,t)?void a([e,e]):(0,d.isBefore)(e,t)&&o[0]!==e?void a([e,t]):void((0,d.isAfter)(e,t)&&o[1]!==e&&a([t,e]))},r.onSelectEnd=function(){var e=r.props,t=e.selectionRange,n=e.onSelection;r.state.selectionStart&&(r.setState({selectionStart:null}),t&&n(t))},r.onSafeAreaClick=function(e){e.stopPropagation(),e.preventDefault()},r.onWindowClick=function(){r.props.clearSelectionOnExternalClick&&r.props.onSelection(null)},r.renderEvent=function(e,t){var n=t[0],r=t[t.length-1],o=Math.max(0,(0,d.differenceInDays)(e.start,n)),a=(0,d.differenceInDays)(e.end,e.start)+1;return i.default.createElement("div",{className:(0,p.bem)("ReactCalendarEvents__event",{start:(0,d.isBefore)(n,e.start),end:(0,d.isBefore)(e.end,r)}),key:e.key,style:{"margin-left":100*o/7+"%",width:a>7-o?100*(7-o)/7+"%":100*a/7+"%"}},e.description)},l=n,a(r,l)}return l(t,e),u(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onWindowClick),window.addEventListener("mouseup",this.onSelectEnd)}},{key:"componentWillReceiveProps",value:function(e){e.selectionRange||this.setState({selectionStart:null}),e.unselectSafeElement!==this.props.unselectSafeElement&&e.unselectSafeElement.addEventListener("click",this.onSafeAreaClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onWindowClick),window.removeEventListener("mouseup",this.onSelectEnd)}},{key:"renderEvents",value:function(e){var t=this,n=this.props.events.filter(function(t){return(0,d.areRangesOverlapping)(t.start,t.end,e[0],e[e.length-1])});return i.default.createElement("div",{className:"ReactCalendarEvents"},n.map(function(n){return t.renderEvent(n,e)}))}},{key:"renderDate",value:function(e){var t=this,n=this.props,r=n.month,o=n.selectionRange,a=n.renderDate,l=n.locale,u=!!o&&(0,d.isWithinRange)(e,o[0],o[1]);return i.default.createElement("li",{key:(0,d.format)(e,"YYYY-MM-DD",{locale:l}),onMouseDown:function(n){return t.onSelectStart(e,n)},onMouseOver:function(n){return t.onSelectMove(e,n)},onMouseUp:function(n){return t.onSelectEnd(e,n)},className:(0,p.bem)("ReactCalendarTiles__tile",{offmonth:(0,d.getMonth)(e)!==(0,d.getMonth)(r),selected:u,faded:!!o&&!u})},i.default.createElement("span",{className:"ReactCalendarTiles__tile__number"},1===(0,d.getDate)(e)?(0,d.format)(e,"MMM D",{locale:l}):(0,d.format)(e,"D",{locale:l})),a(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.month,r=t.startOfWeek,o=t.selectionRange,a=t.locale,l=(0,p.datesForMonth)(n,r);return i.default.createElement("div",{className:(0,p.bem)("ReactCalendarTiles",{isSelecting:!!o}),onClick:this.onSafeAreaClick},i.default.createElement("ul",{className:"ReactCalendarTiles__days"},l.slice(0,7).map(function(e){return i.default.createElement("li",{key:e},(0,d.format)(e,"ddd",{locale:a}))})),i.default.createElement("ul",{className:"ReactCalendarTiles__tiles"},i.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},l.slice(0,7).reverse().map(function(t){return e.renderDate(t)}),this.renderEvents(l.slice(0,7))),i.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},l.slice(7,14).reverse().map(function(t){return e.renderDate(t)}),this.renderEvents(l.slice(7,14))),i.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},l.slice(14,21).reverse().map(function(t){return e.renderDate(t)}),this.renderEvents(l.slice(14,21))),i.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},l.slice(21,28).reverse().map(function(t){return e.renderDate(t)}),this.renderEvents(l.slice(21,28))),i.default.createElement("div",{className:"ReactCalendarTiles__tiles__row"},l.slice(28,35).reverse().map(function(t){return e.renderDate(t)}),this.renderEvents(l.slice(28,35)))))}}]),t}(c.Component);m.propTypes={month:f.default.instanceOf(Date).isRequired,startOfWeek:f.default.string,renderDate:f.default.func.isRequired,onSelection:f.default.func.isRequired,selectionRange:f.default.arrayOf(f.default.instanceOf(Date)),unselectSafeElement:f.default.element,clearSelectionOnExternalClick:f.default.bool,events:h.isRequired,renderEvent:f.default.func},m.defaultProps={startOfWeek:"monday",selectionRange:null,unselectSafeElement:null,clearSelectionOnExternalClick:!1,renderEvent:void 0},t.default=m},function(e,t){},function(e,t){}])});